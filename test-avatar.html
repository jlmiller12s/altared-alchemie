<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Avatar - Altared Alchemie</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            color: white;
            font-family: system-ui, -apple-system, sans-serif;
            height: 100vh;
            overflow: hidden;
        }
        .container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .avatar-container {
            width: 100%;
            height: 100%;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid #444;
            background: #111;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .status {
            text-align: center;
            margin: 0;
            padding: 6px 12px;
            background: #222;
            border-radius: 0 0 8px 8px;
            font-size: 12px;
            flex-shrink: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="status" id="status">Loading avatar...</div>
        
        <div class="avatar-container">
            <iframe 
                id="avatarFrame"
                src="https://labs.heygen.com/guest/streaming-embed?share=eyJxdWFsaXR5IjoiaGlnaCIsImF2YXRhck5hbWUiOiI1NWYzMjVkMzk1OTA0NjEzYTg5NjMxMmQ5%0D%0ANjU0YzNkMCIsInByZXZpZXdJbWciOiJodHRwczovL2ZpbGVzMi5oZXlnZW4uYWkvYXZhdGFyL3Yz%0D%0ALzU1ZjMyNWQzOTU5MDQ2MTNhODk2MzEyZDk2NTRjM2QwL2Z1bGwvMi4yL3ByZXZpZXdfdGFyZ2V0%0D%0ALndlYnAiLCJuZWVkUmVtb3ZlQmFja2dyb3VuZCI6ZmFsc2UsImtub3dsZWRnZUJhc2VJZCI6ImRl%0D%0AbW8tMSIsInVzZXJuYW1lIjoiZTJiZDg5YjYxNGJkNDljZGJiY2QyMWJiOGY0MGNmZmIifQ%3D%3D&inIFrame=1"
                allow="microphone; camera; autoplay; encrypted-media; fullscreen; display-capture"
                sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox"
            ></iframe>
        </div>
    </div>

    <script>
        const iframe = document.getElementById('avatarFrame');
        const status = document.getElementById('status');
        
        iframe.onload = function() {
            status.innerHTML = 'Avatar iframe loaded successfully!';
            status.style.background = '#0a4a0a';
        };
        
        iframe.onerror = function() {
            status.innerHTML = 'Error loading avatar iframe. Check console for details.';
            status.style.background = '#4a0a0a';
        };
        
        // Check if iframe loads after 5 seconds
        setTimeout(() => {
            if (status.innerHTML === 'Loading avatar...') {
                status.innerHTML = 'Avatar may be taking longer to load, or there may be a CORS issue.';
                status.style.background = '#4a4a0a';
            }
        }, 5000);
    </script>
</body>
</html>
